<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>VR Snake</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
    <script src="./components/slither-once.js"></script>
    <script src="./components/wasd-save.js"></script>
    <script src="./components/snake-controller.js"></script>
    <script src="./components/plane-collider.js"></script>
    <script src="./components/hit-handler.js"></script>
    <script src="./components/utils.js"></script>
    <script src="./components/initializer.js"></script>
  </head>
  <body>
    <div class="hud-text textOutput" id="textOutput"></div>
    <div class="hud-text scoreOutput" id="scoreOutput">0</div>

    <a-scene id="scene" initializer fog="type: exponential; color: #AAA; density: .05">
      <a-assets>
        <img id="headTx" src="./textures/8ball.jpg" />
        <a-mixin id="head" geometry="primitive: sphere; radius: 1.20" material="src: #headTx"></a-mixin>
        <a-mixin id="body" geometry="primitive: sphere; radius: 1.20" material="color: #000"></a-mixin>
        <!-- <a-mixin id="obstacle" geometry="primitive: cone; height: 2.5" random-position="fixedY: 1.25" hit-handler="emitEvent: bad-collision"</a-mixin> -->
        <a-mixin id="apple" geometry="primitive: sphere; radius: 1.20" random-position="fixedY: 1.25" material="color: #fff" hit-handler="emitEvent: gobbled-apple"></a-mixin>
      </a-assets>
      <a-plane position="-12.5 0 -4" rotation="-90 0 0" width="100" height="100" material="color: #7BC8A4"></a-plane>
      <a-sky id="sky" color="#ECECEC"></a-sky>
      <a-entity id="headObj" mixin="head" position="0 1.25 0"></a-entity>
      <!-- <a-entity entity-generator="mixin: obstacle; classList: collidable"></a-entity> -->
      <a-entity entity-generator="mixin: apple; classList: collidable"></a-entity>
      <a-box class="collidable" color="#68ab8c" depth="4" height="2" width="46" position="-23 1 0" rotation="0 90 0"></a-box>
      <a-box class="collidable" color="#68ab8c" depth="4" height="2" width="46" position="0 1 -23" rotation="0 0 0"></a-box>
      <a-box class="collidable" color="#68ab8c" depth="4" height="2" width="46" position="23 1 0" rotation="0 90 0"></a-box>
      <a-box class="collidable" color="#68ab8c" depth="4" height="2" width="46" position="0 1 23" rotation="0 0 0"></a-box>
      <a-entity position="0 1.6 10">
        <a-camera></a-camera>
      </a-entity>
    </a-scene>
  </body>
</html>
